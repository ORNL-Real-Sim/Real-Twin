# if true, the demo data will be used for the simulation, use default data: "chattanooga"
# or string of the name of the demo data, we provide a list of demo data ["chattanooga", "chicago", "nyc", "la", "sf", "dc"]
# For Dev, extend to retrieve the data from the db server.
demo_data: false

input_dir: datasets/tss
output_dir:  # optional
Network:
    NetworkName: chatt  # the name of the network should not have space between words
    # polygon points for the network in the format of [lon, lat]
    NetworkVertices: [[-85.14977588011192, 35.040346288414916], [-85.15823020212477, 35.04345144844759], [-85.15829457513502, 35.043293338482925], [-85.14986171079225, 35.04018378032611]]
Traffic: GridSmart
Control: Synchro_signal.csv
Calibration:
    # overall configuration for the calibration
    scenario_config:
        sim_start_time: 28800  # 8:00 AM In seconds
        sim_end_time: 32400  # 9:00 AM In seconds
        calibration_target:
            GEH: 5  # https://en.wikipedia.org/wiki/GEH_statistic
            GEHPercent: 0.85  # accepted match
        calibration_time_step: 1
        allow_u_turn: false  # if true, the u-turns are allowed in the simulation

        # (Optional) Termination criteria for ga, sa and ts algorithms
        # max_epoch: 1000  # max number of iterations
        # max_fe: 10000  # max number of function evaluations
        # max_time: 3600  # max time in seconds
        # max_early_stop: 20  # max number of early stop iterations

    turn_inflow:
        initial_params: [0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 100, 100, 100, 100]
        params_ranges: [[0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1], [0, 1],
                        [0, 1], [0, 1], [50, 200], [50, 200], [50, 200], [50, 200]]
        max_inflow: 200  # max inflow for the turning ratio

    behavior:
        initial_params:
            min_gap: 2.5  # min gap between vehicles in meters
            acceleration: 2.6  #  max acceleration in m/s^2
            deceleration: 4.5  # max deceleration in m/s^2
            sigma: 0.5  # driver imperfection
            tau: 1.00  # desired headway
            emergencyDecel: 9.0  # emergency deceleration in m/s^2
        params_ranges:
            min_gap: [1.0, 3.0]
            acceleration: [2.5, 3.0]
            deceleration: [4.0, 5.3]
            sigma: [0.0, 1.0]
            tau: [0.25, 1.25]
            emergencyDecel: [5.0, 9.3]

        # behavior calibration shared by all algorithms
        EB_tt: 240  # sec
        WB_tt: 180  # sec
        EB_edge_list: ["-312", "-293", "-297", "-288", "-286",
                        "-302", "-3221", "-322", "-313", "-284",
                        "-328", "-304"]
        WB_edge_list: ["-2801", "-280", "-307", "-327", "-281",
                        "-315", "-321", "-300", "-2851", "-285",
                        "-290", "-298", "-295"]

    ga_config:  # generic algorithm configuration
        model_selection: "BaseGA"  #  BaseGA, EliteSingleGA, EliteMultiGA, MultiGA, SingleGA
        epoch: 10  # number of generations [1, 100000]
        pop_size: 8  # population size [10, 10000]
        pc: 0.75  # crossover probability [0.7, 0.95]
        pm: 0.1  # mutation probability [0.01, 0.2]

    sa_config:  # simulated annealing configuration
        model_selection: "OriginalSA"  # OriginalSA, GaussianSA, SwarmSA
        epoch: 10  # number of generations [1, 10000]
        temp_init: 100  # initial temperature [1, 10000]
        cooling_rate: 0.891  # same as previous [0, 1]
        step_size: 0.1  # step size for the random movement [-100, 100]
        scale: 0.1  # scale for the temperature [0, 1], GaussianSA and SwarmSA Only

    ts_config:  # tabu search configuration
        epoch: 10  # number of generations [1, 10000]
        tabu_size: 10  # maximum size of the tabu list [2, 10000]
        neighbour_size: 10  # size of the neighborhood for generating candidate solutions [2, 10000]
        perturbation_scale: 0.05  # scale of perturbation for the solution [0, 100]
